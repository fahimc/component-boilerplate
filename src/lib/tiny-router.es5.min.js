"use strict";var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if("function"!=typeof t)throw new TypeError(t+" is not a function");e=e||this;for(var i=0,o=this.length;i!==o;++i)t.call(e,this[i],i,this)}),NodeList.prototype.forEach=Array.prototype.forEach;var Router=function(){function t(e,i){if(_classCallCheck(this,t),!e.hasAttribute(t.CONST.ROUTER_ATTRIBUTE))throw"router element requires "+t.CONST.ROUTER_ATTRIBUTE+" attribute";this.router=e,this.transitionStyle=i||"visibility 0s, opacity 0.5s linear",this.sectionCollection=[],this.currentSection=null,this.setSections(),this.routeTo(this.getCurrentHash()),window.addEventListener("hashchange",this.onHashChange.bind(this),!1)}return _createClass(t,[{key:"setSections",value:function(){var e=this;this.sectionCollection=this.router.querySelectorAll("["+t.CONST.SECTION_ROUTE_ATTRIBUTE+"]"),this.sectionCollection.forEach(function(t){e.hideSection(t)})}},{key:"hideSection",value:function(t){t.style.position="absolute",t.style.visibility="hidden",t.style.opacity="0",t.style.transition=this.transitionStyle}},{key:"showSection",value:function(t){this.currentSection&&this.hideSection(this.currentSection),this.currentSection=t,t.style.visibility="visible",t.style.opacity="1"}},{key:"getCurrentHash",value:function(){var t=window.location.hash;return t||"#/"}},{key:"routeTo",value:function(e,i){var o=e.replace("#",""),n=this.router.querySelector("["+t.CONST.SECTION_ROUTE_ATTRIBUTE+'="'+o+'"]');n?(this.showSection(n),i||history.pushState(null,null,e)):((n=this.router.querySelector("["+t.CONST.SECTION_ROUTE_ATTRIBUTE+'="/"]'))&&this.showSection(n),i||history.pushState(null,null,"#/"))}},{key:"onHashChange",value:function(){this.routeTo(this.getCurrentHash(),!0)}}]),t}();Router.CONST={ROUTER_ATTRIBUTE:"data-router",SECTION_ROUTE_ATTRIBUTE:"data-route"};